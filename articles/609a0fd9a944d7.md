---
title: "pydanticã§dataclassã‚’ä»£æ›¿ã—ã¦ã‚‚ã£ã¨å®‰å…¨ãªPythonã‚³ãƒ¼ãƒ‰ã‚’æ¥½ã«å®Ÿç¾ã™ã‚‹"
emoji: "ğŸ›¡"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["python","pydantic"]
published: true
---
ã“ã®è¨˜äº‹ã¯ã€[LAPRAS Advent Calendar 2022](https://qiita.com/advent-calendar/2022)ã®6æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚
https://qiita.com/advent-calendar/2022/lapras

# 0. ã¯ã˜ã‚ã« pydanticã§ã‚‚ã£ã¨ç¡¬ã„Pythonã‚³ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã™ã‚‹ ğŸ
Lightweight Languageã§ã‚ã‚‹Pythonã®è‰¯ã•ã®1ã¤ã«ã€Œæ°—æ¥½ã«æ›¸ã‘ã‚‹ã€ã¨ã„ã†ã“ã¨ãŒæŒ™ã’ã‚‰ã‚Œã‚‹ã¨æ€ã„ã¾ã™ãŒã€ãã®ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ãªæ›¸ãå‘³ã‚’å¤šå°‘æ¨ã¦ã¦ã§ã‚‚[typeãƒ’ãƒ³ãƒˆ](https://docs.python.org/ja/3/library/typing.html)ã‚„[dataclass](https://docs.python.org/ja/3/library/dataclasses.html)ç­‰ã‚’ç”¨ã„ãŸã‚ˆã‚Š"ç¡¬ã„"ã‚³ãƒ¼ãƒ‰ã®æ–¹ãŒèª­ã‚€éš›ã®èªçŸ¥è² è·ãŒæ¸›ã£ã¦è‰¯ã„ãªãã€ã¨æœ€è¿‘ã¯æ€ã†ã‚ˆã†ã«ãªã£ã¦ãã¾ã—ãŸã€‚

ã“ã®è¨˜äº‹ã§ã¯æ—¢ã«ãã®ã‚ˆã†ãª"ç¡¬ã„"Pythonã‚³ãƒ¼ãƒ‰ã‚’æ›¸ããŸã‚ã«dataclassã‚’ç”¨ã„ã¦ã„ã‚‹äººã«å‘ã‘ã¦ä»£ã‚ã‚Šã« **[pydantic](https://pydantic-docs.helpmanual.io/)** ã‚’ä½¿ã†ã¨ã„ã†é¸æŠã‚‚ã‚¢ãƒªã ãƒ¨ï¼ã¨ã„ã†ãŠè©±ã‚’ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚^[ä»Šå›ã®è¨˜äº‹ã§ã¯æ—¢ã«Fast APIã‚„Django Ninjaç­‰ã®FWã§pydanticã‚’ä½¿ã£ã¦ã„ã‚‹æ–¹å‘ã‘ã§ã¯ãªã„è¨˜äº‹ã«ã—ãŸã®ã§æ•¢ãˆã¦dataclassã®ä»£ç”¨ã¨ã—ã¦ã®å´é¢ã«ç„¦ç‚¹ã‚’å½“ã¦ãŸæ§‹æˆã¨ã—ã¦ã„ã¾ã™m(_ _)m]

pydanticã¯å®Ÿè¡Œæ™‚ã«å‹ãƒ’ãƒ³ãƒˆã‚’å¼·åˆ¶ã—ã€ãƒ‡ãƒ¼ã‚¿ã®validationçµæœãŒç„¡åŠ¹ãªå ´åˆã¯åˆ†ã‹ã‚Šã‚„ã™ã„ã‚¨ãƒ©ãƒ¼ã‚’æä¾›ã—ã¦ãã‚Œã‚‹Pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚pipã§ç°¡å˜ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‡ºæ¥ã¾ã™ã€‚

```sh
$ pip install pydantic
```

ã“ã®è¨˜äº‹ã‚’èª­ã‚€ã“ã¨ã§ã€Œdataclassã®ãƒ„ãƒ©ãƒŸãŒã©ã“ã«ã‚ã‚Špydanticã¯ã©ã†ãã‚Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã®ã‹ã€ã«ã¤ã„ã¦çŸ¥ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ã¾ãŸdataclassã®ãƒ„ãƒ©ãƒŸã®è§£æ¶ˆã ã‘ã§ãªãã€Œpydanticã®æä¾›ã—ã¦ãã‚Œã‚‹ã‚ªãƒªã‚¸ãƒŠãƒ«ã®å‹ãŒã„ã‹ã«ä¾¿åˆ©ã‹ã€ã‚„ã€Œpydanticã§å®Ÿè£…ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒã„ã‹ã«ç—’ã„ã¨ã“ã‚ã«æ‰‹ãŒå±Šãä»•æ§˜ã«ãªã£ã¦ã„ã‚‹ã®ã‹ã€ã«ã¤ã„ã¦å­¦ã³ã‚’å¾—ã‚‰ã‚Œã‚‹ã‚ˆã†ã«èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚

â€»ã‚‚ã—ã€Œã“ã“ã®èª¬æ˜ã¯é•ããªã„ã‹ï¼Ÿã€ç­‰ã‚ã‚Œã°ã‚³ãƒ¡ãƒ³ãƒˆç­‰ã§æŒ‡æ‘˜ã„ãŸã ã‘ã‚‹ã¨å¹¸ã„ã§ã™ã€‚

# 1. dataclassã®è¾›ã¿ã‚’ç™’ã‚„ã™pydantic ğŸ¶
ä»¥å‰ã€[Zennè¨˜äº‹ï¼šPEP557ã‹ã‚‰èª­ã¿è§£ãPythonã®dataclassã®å¬‰ã—ã•ã¨ä»–æ‰‹æ®µã¨ã®æ¯”è¼ƒ](https://zenn.dev/kumamoto/articles/d0fb1208c47365)ã§ã‚‚æ›¸ãã¾ã—ãŸãŒã€dataclassã‚’ä½¿ã£ã¦ã„ã¦è‹¥å¹²ã®ãƒ„ãƒ©ãƒŸãŒ2ã¤ã‚ã‚‹ãªã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚
## 1-1. å‹å®‰å…¨æ€§
dataclassã®ä¸€ç•ªã®ãƒ„ãƒ©ãƒŸã¯**å‹æ³¨é‡ˆã‚’å…¨ãç„¡è¦–ã—ãŸã‚³ãƒ¼ãƒ‰ãŒãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„**ã“ã¨ã ã¨æ€ã„ã¾ã™ã€‚

:::details dataclassã§ã¯mypyã§ã‚¨ãƒ©ãƒ¼ã«ãªã£ãŸã‚³ãƒ¼ãƒ‰ã‚‚ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã¯ã‚·ãƒ¬ãƒƒã¨å®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã†ğŸ˜“
```py
from dataclasses import dataclass


@dataclass
class Company:
    corporate_id: int
    name: str
    country_id: int


good_company = Company(corporate_id=1, name="ç†Šæœ¬æ ªå¼ä¼šç¤¾", country_id=81)
print(good_company.corporate_id, good_company.name)  # debug


# mypyã§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã®ã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã‚‚ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦æ¬²ã—ã„ãŒ,ã‚·ãƒ¬ã£ã¨å®Ÿè¡Œã§ãã¦ã—ã¾ã†
bad_company1 = Company(corporate_id="not int", name="é¹¿å…å³¶æ ªå¼ä¼šç¤¾", country_id=81)
print(bad_company1.corporate_id, bad_company1.name, bad_company1.country_id)  # debug
```
:::

pydanticã‚’ç”¨ã„ã‚Œã°

:::details pydanticãªã‚‰ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã‚¨ãƒ©ãƒ¼ã«ã¡ã‚ƒã‚“ã¨ãªã£ã¦ãã‚Œã‚‹ğŸ˜†
```py
# from dataclasses import dataclass
from pydantic.dataclasses import dataclass


@dataclass
class Company:
    corporate_id: int
    name: str
    country_id: int


good_company = Company(corporate_id=1, name="ç†Šæœ¬æ ªå¼ä¼šç¤¾", country_id=81)
print(good_company.corporate_id, good_company.name, good_company.country_id)  # debug


# pydantic.error_wrappers.ValidationError: 1 validation error for Company corporate_id value is not a valid integer (type=type_error.integer)
bad_company1 = Company(corporate_id="not int", name="é¹¿å…å³¶æ ªå¼ä¼šç¤¾", country_id=81)
```
:::

ãŸã ã—pydanticã«ã¯è‹¥å¹²ç™–ãŒã‚ã‚Šæ³¨æ„ãŒå¿…è¦ãªãƒã‚¤ãƒ³ãƒˆãŒã‚ã‚Šã¾ã™ã€‚

> pydantic is primarily a parsing library, not a validation library. Validation is a means to an end: building a model which conforms to the types and constraints provided.
In other words, pydantic guarantees the types and constraints of the output model, not the input data.

â€»[Models - pydantic](https://pydantic-docs.helpmanual.io/usage/models/#data-conversion)ã‚ˆã‚Š

pydanticã¯ **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®validationã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ãªãã€å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã®å‹ã®ä¿è¨¼ã‚’ã™ã‚‹parseã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚ã‚‹** ã¨ã„ã†ã“ã¨ã§ã™ã€‚

:::details å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ãŒcastå‡ºæ¥ã‚‹ãªã‚‰ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„ã€‚å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã®ä¿è¨¼ã«åŠ›ç‚¹ãŒã‚ã‚‹ğŸ˜³
```py
from pydantic.dataclasses import dataclass


@dataclass
class Company:
    corporate_id: int
    name: str
    country_id: int


# å‹æ‰‹ã«castå‡ºæ¥ã‚‹ã‚‚ã®ã¯castã•ã‚Œã‚‹
bad_company2 = Company(corporate_id=2.1, name=3.14, country_id="2")
print(bad_company2.corporate_id, type(bad_company2.corporate_id)) # 2 <class 'int'>
print(bad_company2.name, type(bad_company2.name)) # 3.14 <class 'str'>
print(bad_company2.country_id, type(bad_company2.country_id)) # 2 <class 'int'>
```
:::

## 1-2. JSONåŒ–
dictã‚„jsonå½¢å¼ã§ã®ãƒ‡ãƒ¼ã‚¿ã—ã‹å—ã‘å…¥ã‚Œã¦ãã‚Œãªã„ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ã‚‰ãªãã¦ã¯ã„ã‘ãªã„æ©Ÿä¼šã¯å¤šã€…ã‚ã‚Šã¾ã™ãŒã€ **æ¨™æº–ã®dataclassã«ã¯dict/jsonã¸ã®å‚™ãˆä»˜ã‘ã®å¤‰æ›æ©Ÿèƒ½ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚**

[dataclasses-json](https://github.com/lidatong/dataclasses-json)ã¨ã„ã†åˆ¥ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ç”¨ã„ã‚‹ã®ã‚‚æ‰‹ã§ã™ãŒã€ **pydanticãªã‚‰`pydantic.json.pydantic_encoder`ã¨æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®[json](https://docs.python.org/ja/3/library/json.html)ã¨ä½µç”¨ã§JSONåŒ–å‡ºæ¥ã¾ã™ã€‚**

:::details æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ä½µç”¨ã§ç°¡å˜ã«JSONåŒ–å‡ºæ¥ã‚‹ğŸ˜†
```py
import dataclasses
import json

from pydantic.dataclasses import dataclass
from pydantic.json import pydantic_encoder


@dataclass
class User:
    id: int
    name: str = "John Doe"
    friends: list[int] = dataclasses.field(default_factory=lambda: [0])


user = User(id="42")
# JSONåŒ–
user_json = json.dumps(user, indent=4, default=pydantic_encoder)
```
:::

(ã“ã‚Œã¯pydanticã¨ç›´æ¥ã¯é–¢ä¿‚ãªã„è©±ã§ã™ãŒ)å½“ç„¶JSONåŒ–å‡ºæ¥ã‚Œã°dictã«ã‚‚å¤‰æ›ã¯å®¹æ˜“ã§ã™ã€‚

```py
# JSONã‹ã‚‰dictã¸ã¯å½“ç„¶å¤‰æ›å¯èƒ½ğŸ˜†
user_dict = json.loads(user_json)
```


# 2. ã‚ªãƒªã‚¸ãƒŠãƒ«ã®ä¾¿åˆ©ãªå‹ã‚’æä¾›ã—ã¦ãã‚Œã‚‹pydantic  ğŸ¤– 

pydanticæä¾›ã®ã‚ªãƒªã‚¸ãƒŠãƒ«å‹ã¯éå¸¸ã«å¤šå½©ã§ä¾¿åˆ©ãªã‚‚ã®ã§ã™ã€‚


ã“ã“ã§ã¯ãã®ä¸€éƒ¨ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
ä»–ã®ã‚ªãƒªã‚¸ãƒŠãƒ«å‹ã«ã¤ã„ã¦ã¯[Field Types - pydantic](https://pydantic-docs.helpmanual.io/usage/types/#pydantic-types)ã‚’å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚


| å‹ | åˆ¶é™ | è£œè¶³ |
| ---- | ---- | ---- |
| FutureDate | æœªæ¥ã®æ—¥ä»˜ | - |
| PastDate | éå»ã®æ—¥ä»˜ | - |
| EmailStr | emailã‚¢ãƒ‰ãƒ¬ã‚¹æº–æ‹ ã®æ–‡å­—åˆ— | è¿½åŠ ã§`email-validator`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒåˆ¥é€”å¿…è¦ |
| HttpUrl | httpã‹httpsã§å§‹ã¾ã‚‹URL | - |
| PositiveInt | æ­£ã®æ•´æ•° | - |
| conint | intå‹ã®ç¯„å›²ã‚’æŒ‡å®š | `gt`ã§ã€Œã‚ˆã‚Šå¤§ãã„ã€`ge`ã§ã€Œä»¥ä¸Šã€ã®æ„å‘³ã€é€†ã«`lt`ã¯ã€Œæœªæº€ã€`le`ã¯ã€Œä»¥ä¸‹ã€ |
| confloat | floatå‹ã®ç¯„å›²ã‚’æŒ‡å®š | - |
| SecretStr | æ©Ÿå¯†ã«ã—ãŸã„æ–‡å­—åˆ—ã€è¡¨ç¤ºã®éš›éš ã—æ–‡å­—ã«ãªã‚‹ | - |

:::details pydanticæä¾›ã®ã‚ªãƒªã‚¸ãƒŠãƒ«å‹ã‚’ä½¿ã£ã¦ã¿ã‚‹(`email-validator`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒåˆ¥é€”å¿…è¦)ğŸ˜†
```
from datetime import datetime, timedelta

from pydantic import (
    EmailStr,
    FutureDate,
    HttpUrl,
    PastDate,
    PositiveFloat,
    PositiveInt,
    confloat,
    conint,
    SecretStr,
)
from pydantic.dataclasses import dataclass


@dataclass
class User:
    user_id: int
    auth_date: PastDate
    expire_date: FutureDate
    email_addres: EmailStr
    user_page: HttpUrl
    age: PositiveInt
    height: PositiveFloat
    money: conint(gt=1000, lt=1024)
    score: confloat(ge=3.5, lt=5)
    password: SecretStr


user = User(
    user_id=1,
    auth_date=datetime.now() - timedelta(days=1),
    expire_date=datetime.now() + timedelta(days=1),
    email_addres="hoge@example.com",
    user_page="https://zenn.dev/",
    age=12,
    height=1.72,
    money=1001,
    score=3.5,
    password="hogehoge",
)
```
:::

# 3. ç—’ã„æ‰€ã«æ‰‹ãŒå±Šãã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒç°¡å˜ã«å®Ÿè£…ã§ãã‚‹pydantic ğŸš¨
pydanticã®`@validator`ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ãˆã°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å¯¾ã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ ã—ãŸãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç°¡å˜ã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚

:::details ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã§ç°¡å˜ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‰ã‚Œã‚‹ğŸ˜†
```py
from pydantic import validator
from pydantic.dataclasses import dataclass


@dataclass
class User:
    name: str
    nick_name: str
    password1: str
    password2: str

    @validator("name")
    def name_must_contain_space(cls, v):
        if " " not in v:
            raise ValueError("must contain a space")
        return v.title()

    @validator("password2")
    def passwords_match(cls, v, values, **kwargs):
        # vã¨valuesã«ã¯ãã‚Œãã‚Œãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å€¤ã¨è©²å½“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä»¥å¤–ã®ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ãŸdictãŒã‚ã‚‹
        print("v", v)  # hogehoge
        print("values", values)  # {'name': 'ãã¾ã‚‚ã¨ ã¯ã¾ã¡', 'nick_name': 'kagoshima', 'password1': 'hogehoge'}
        if "password1" in values and v != values["password1"]:
            raise ValueError("passwords do not match")
        return v

    @validator("nick_name")
    def username_alphanumeric(cls, v):
        assert v.isalnum(), "must be alphanumeric"
        return v


user = User(
    name="ãã¾ã‚‚ã¨ ã¯ã¾ã¡",
    nick_name="kagoshima",
    password1="hogehoge",
    password2="hogehoge"
)
```
:::

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰å†…ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ã®ç¬¬äºŒå¼•æ•°ã®`v`ã¯ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ä¸ãˆã‚‰ã‚ŒãŸå€¤ã§ã€ç¬¬ä¸‰å¼•æ•°ã®`values`ã¯è©²å½“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä»¥å¤–ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã¨å€¤ã®dictãŒå…¥ã£ã¦ã„ã¾ã™ã€‚
â€»ã„ãšã‚Œã‚‚å¼•æ•°ã®å¤‰æ•°åã‚‚è‡ªç”±ã«å¤‰ãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚

ã¾ãŸãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°ãƒ¶æ‰€ã§å†åˆ©ç”¨ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚‚`validator`ã®`allow_reuse`å¼•æ•°ã«`True`ã‚’æ¸¡ã™ã ã‘ã§ç°¡å˜å®Ÿè£…ã§æ¸ˆã¿ã¾ã™ã€‚

:::details ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å†åˆ©ç”¨ãŒå®¹æ˜“ğŸ˜†
```
from pydantic import validator
from pydantic.dataclasses import dataclass


def name_must_contain_space(cls, v):
    if " " not in v:
        raise ValueError("must contain a space")
    return v.title()


@dataclass
class Person1:
    name: str

    # validators
    _normalize_name = validator("name", allow_reuse=True)(name_must_contain_space)


@dataclass
class Person2:
    name: str

    # validators
    _normalize_name = validator("name", allow_reuse=True)(name_must_contain_space)


kagoshima = Person1(name="kagoshima gyoko")
print("kagoshima.name", kagoshima.name)  # debug
kumamoto = Person2(name="kumamoto hamachi")
print("kumamoto.name", kumamoto.name)  # debug
```
:::

ãã®ä»–ã€`validator`ã®å¼•æ•°ã‚’`pre=True`ã¨ã™ã‚‹ã“ã¨ã§ä»–ã®Validator ã‚ˆã‚Šå„ªå…ˆçš„ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã£ãŸã‚Šã€`always=True`ã¨ã™ã‚‹ã“ã¨ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®ã‚ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å€¤ãŒä¸ãˆã‚‰ã‚Œãªã‹ã£ãŸéš›ã«ã‚‚ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¡Œã†ãªã©ç´°ã‚„ã‹ãªè¨­å®šã‚’ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚



# ã¾ã¨ã‚ã¨å‚è€ƒ ğŸ“—
pydanticã‚’ç”¨ã„ã‚‹ã¨ã‚ˆã‚Šå …ç‰¢ãªã‚³ãƒ¼ãƒ‰ã‚’å®¹æ˜“ã«ä½œã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã€ã¨ã„ã†ã“ã¨ã‚’ä¸Šæ‰‹ãæœ¬è¨˜äº‹ãŒä¼ãˆã‚‹ã“ã¨ãŒã§ãã¦ã„ã‚Œã°å¹¸ã„ã§ã™ã€‚

pydanticã«ã¯ä»–ã«ã‚‚æ§˜ã€…ãªæ©Ÿèƒ½ãŒã‚ã‚Šä»Šå›ç´¹ä»‹ã—ãŸdataclassã®ä»£æ›¿ã¨ã—ã¦ç”¨ã„ã‚‹ã‚ˆã‚Šã‚‚ã‚€ã—ã‚Modelã‚’ä½¿ã£ãŸã‚„ã‚Šæ–¹ã®æ–¹ãŒä¸»è¦ãªã‚‚ã®ã¨ãªã‚Šã¾ã™ã€‚è‡ªåˆ†è‡ªèº«pydanticã‚’åˆ©ç”¨ã—ãŸFast APIã€Django Ninjaç­‰ã®FWã«ã¤ã„ã¦å­¦ã³ã‚‚æ·±ã‚ã¦ã‚ˆã‚Šè¸ã¿è¾¼ã‚“ã pydanticã®ä½¿ã„æ–¹ã«ã¤ã„ã¦æ¬¡å›ä»¥é™ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆå‡ºæ¥ã‚‹ã‚ˆã†ã«ç²¾é€²ã—ã¦ã„ã“ã†ã¨æ€ã„ã¾ã™ï¼

ä»¥ä¸‹ã€ä»Šå›å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸå‚è€ƒè³‡æ–™ã§ã™m(_ _)m

https://pydantic-docs.helpmanual.io/
https://docs.python.org/ja/3/library/typing.html
https://docs.python.org/ja/3/library/dataclasses.html
https://engineering.nifty.co.jp/blog/5995
