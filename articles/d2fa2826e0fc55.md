---
title: "[DBæ¥ç¶šã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ]mycliã‚’å°å…¥ã—ã¦ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§æ°—æ¥½ã«MariaDB/MySQLã‚’è§¦ã‚‹"
emoji: "ğŸ“Š"
type: "tech"
topics: ["mysql", "mariadb", "mycli", "dbcli"]
published: true
---

![](https://storage.googleapis.com/zenn-user-upload/7tkndhtkhrtndgml148dfoz20vt5)

# å‰æ å¯¾è±¡èª­è€…

- MariaDB(or MySQL)ã‚’å°å…¥æ¸ˆã¿ã§ã‚ã‚‹ã“ã¨ã€‚
ã¾ã å°å…¥ã—ã¦ãªã„ã‚ˆãƒ¼ã¨ã„ã†åˆå­¦è€…ã®æ–¹ã¯ã€ç­†è€…ãŒæ›¸ã„ãŸ[ã“ã¡ã‚‰ã®è¨˜äº‹ã®MariaDBå°å…¥éƒ¨åˆ†](https://zenn.dev/kumamoto/articles/7310caf55563d354bc22)ã‚’å‚è€ƒã«ã—ã¦ã¿ã¦ãã ã•ã„ã€‚

- ãªã‚“ã¨ãªãSQLã¯ã‚ã‹ã‚‹äºº
`SELECT`ã‚„`INSERT`ãªã©èã„ãŸã“ã¨ã¯ã‚ã‚‹ã€ã¨ã„ã†ãƒ¬ãƒ™ãƒ«ã§å•é¡Œãªã„ã¨æ€ã„ã¾ã™ã€‚
â€»ã¡ã‚ƒã‚“ã¨SQLã‚„RDBå‹‰å¼·ã—ãŸã„æ–¹ã¯ã€[ã‚¹ãƒƒã‚­ãƒªã‚ã‹ã‚‹ SQL å…¥é–€](https://www.amazon.co.jp/%E3%82%B9%E3%83%83%E3%82%AD%E3%83%AA%E3%82%8F%E3%81%8B%E3%82%8BSQL%E5%85%A5%E9%96%80-%E7%AC%AC2%E7%89%88-%E3%83%89%E3%83%AA%E3%83%AB222%E5%95%8F%E4%BB%98%E3%81%8D-%E3%82%B9%E3%83%83%E3%82%AD%E3%83%AA%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA-%E4%B8%AD%E5%B1%B1%E6%B8%85%E5%96%AC/dp/4295005096/ref=sr_1_2?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&dchild=1&keywords=%E3%82%B9%E3%83%83%E3%82%AD%E3%83%AA%E3%82%8F%E3%81%8B%E3%82%8B&qid=1607881626&sr=8-2) ã€ãªã©ã®æ›¸ç±ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆã—ã¦ã¿ã‚‹ã®ãŒã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ï¼

- CLI(ã‚ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®é»’ã„ç”»é¢)ã§DBã‚’æ°—æ¥½ã«å¼„ã£ã¦ã¿ãŸã„æ–¹
æœ¬æ ¼çš„ã«å¤§è¦æ¨¡ãªDBã‚’å¼„ã‚‹ã¨ãªã‚‹ã¨[Sequel Pro](https://www.sequelpro.com/)ãªã©ã®GUIã‚’ä½¿ã£ãŸã»ã†ãŒæµçŸ³ã«æ¥½ã‹ã¨ã€‚
ãŸã å€‹äººé–‹ç™ºã¨ã‹ã¡ã‚‡ã£ã¨ã—ãŸå®Ÿé¨“ã«è§¦ã‚‹ã«ã¯mycliã¯æ°—æ¥½ã§è‰¯ã„...ã¨æ€ã„ã¾ã™ã€‚ã‚¿ãƒ¼ãƒŸãƒŠãƒ«è§¦ã‚‹è¨“ç·´ã«ã‚‚ãªã‚‹ã—ã­ï¼

â€»æœ¬è¨˜äº‹ã‚’è‹±èªã§èª­ã¿ãŸã„å¥‡ç‰¹ãªæ–¹ã¯[dev.to](https://dev.to/digitalhimiko/use-mycli-and-learn-mariadb-mysql-comfortably-in-a-terminal-57cg)ã®æ–¹ã«ç­†è€…æœ¬äººãŒä¸Šã’ã¦ã„ã‚‹è¨˜äº‹ã‚’ã©ã†ãã€‚

# ä¸‹æº–å‚™ mycliã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã‚ˆã†

## ãã‚‚ãã‚‚mycliã£ã¦ä½•ï¼Ÿ

[mycli](https://www.mycli.net/)ã¨ã¯ã€MySQL(ã‚„MariaDB)ãªã©ã®ä¸€èˆ¬çš„ãªDBç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã®CLIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã€ã§ã™ã€‚
â€»mycliã¯MySQL clientã®ç•¥ã€‚CLIã¯Command Line Interfaceã®ã“ã¨ã§ã™ã€‚

## ã§ã€mycliã‚’ä½¿ã†ã¨ä½•ãŒå¬‰ã—ã„ã®ï¼Ÿ

è£œå®ŒãŒå…¥ã‚‹ã®ã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ä¸Šã§æ¥½ã«ã‚³ãƒãƒ³ãƒ‰ã‚’æ‰“ã¦ã‚‹ã€typoãŒæ¸›ã‚‹ã¨ã„ã†ã®ãŒä¸€ç•ªè‰¯ã„ã¨ã“ã‚ã§ã™ã€‚

- åŸºæœ¬ã‚³ãƒãƒ³ãƒ‰ã«è£œå®ŒãŒå…¥ã‚‹
- ãƒ†ãƒ¼ãƒ–ãƒ«åãªã©è£œå®Œå€™è£œãŒè¡¨ç¤ºã•ã‚Œã‚‹
- ã‚«ãƒ©ãƒ¼ã®è¨­å®šãŒå‡ºæ¥ã¦è¦‹ã‚„ã™ã„

![](https://storage.googleapis.com/zenn-user-upload/ne6nocg1rr2j17b0r2cczteae4tj)
ä¸Šè¨˜ã¯æ™®é€šã®mysqlã‚³ãƒãƒ³ãƒ‰ã§æ¥ç¶šã—ãŸç”»é¢ã€‚è¦‹ã¥ã‚‰ã„ã—ã‚³ãƒãƒ³ãƒ‰ã®è£œå®Œã‚‚åŠ¹ã‹ãªã„...
![](https://storage.googleapis.com/zenn-user-upload/6rest2qacex0y2kfp6yem9vhtr1p)
ã“ã¡ã‚‰ã¯mycliã‚³ãƒãƒ³ãƒ‰ã§æ¥ç¶šã—ãŸç”»é¢ã€‚ã‚«ãƒ©ãƒ¼ãŒã¤ã„ã¦ã€å€™è£œã‚‚å‡ºã‚‹ã—ã‚¹ãƒ†ã‚­...!

## mycliã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

`pip`ã‹`homebrew`ã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

```
-- Macä½¿ã£ã¦ã‚‹ãªã‚‰ä¸‹è¨˜ã§
$ brew update
$ brew install mycli
-- pythonä½¿ã„ãªã‚‰ä¸‹è¨˜ã§ã‚‚
$ pip install mycli
```

mycliãŒå…¥ã£ãŸã‹ç¢ºèªã—ã¦ã¿ã¦ãã ã•ã„ã€‚

```
$ mycli --version
Version: 1.21.1
```

## mycliã®ã‚«ãƒ©ãƒ¼ãªã©ã‚’è¨­å®šã‚’å¤‰æ›´ã™ã‚‹

è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«`~/.myclirc`ã‚’[mycliã®å…¬å¼ã‚µã‚¤ãƒˆ](https://www.mycli.net/syntax)ã‚’å‚è€ƒã«å¤‰æ›´ã—ã¦ã„ãã¾ã™ã€‚

```
# è‰²å¤‰æ›´(è‹¥è‰è‰²ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚)
syntax_style = native
# ã‚­ãƒ¼ã®ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚’viã«(vimã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰ã‚ã‹ã‚‰ãªã„ãªã‚‰emacsã®ã¾ã¾ã§ãŠï½‹ï¼)
key_bindings = vi
# å€™è£œé¸æŠã‚’åºƒã‚ã«è¡¨ç¤º
wider_completion_menu = True
```

# mycliã§MariaDB(MySQL)ã‚’ã‚¤ã‚¸ã£ã¦ã¿ã‚‹

## DBã«æ¥ç¶šã™ã‚‹

DBã¾ã ä½œã£ã¦ãªã„ã€ã©ã‚“ãªDBã‚ã£ãŸã‘ã¨ã„ã†äººã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åã‚’
çœç•¥ã—ã¦æ¬¡ã®ã€Œãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸€è¦§ã‚’ç¢ºèªã€ã‚’ã‚„ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```
$ mycli -uãƒ¦ãƒ¼ã‚¶ãƒ¼å -pãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å
-- ä¾‹
$ mycli -uroot -pHOGEHOGE fuga_db
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸€è¦§ã‚’ç¢ºèª

```
> SHOW DATABASES;
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä½œæˆ

```
> CREATE DATABASE IF NOT EXISTS test;
```

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å‰Šé™¤
```
> DROP DATABASE IF EXISTS test;
```

## æ¥ç¶šå…ˆã®ãƒ›ã‚¹ãƒˆåã®ç¢ºèª

```python
> SHOW VARIABLES LIKE 'hostname';
```

## ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ

[CREATE TABLE æ§‹æ–‡ / MySQLå…¬å¼](https://dev.mysql.com/doc/refman/5.6/ja/create-table.html)

ã¡ãªã¿ã«ä¸‹è¨˜ã®ã‚¯ã‚¨ãƒªã§ã“ã‚“ãªãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/sz0nuig6magggdnrwau8yllx57ll)
![](https://storage.googleapis.com/zenn-user-upload/hadu1822mwnieom6tu74mh2dujje)
ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã“ã‚“ãªæ„Ÿã˜([tbls](https://github.com/k1LoW/tbls)ã¨ã„ã†ãƒ„ãƒ¼ãƒ«å©ã„ã¦ä½œã£ãŸå³å¸­ã§ã™ãŒ)
![](https://storage.googleapis.com/zenn-user-upload/nebbn5smv8akvqn2avxslep7bpt4)


```
CREATE TABLE ãƒ†ãƒ¼ãƒ–ãƒ«å (ã‚«ãƒ©ãƒ å ãƒ‡ãƒ¼ã‚¿å‹ åˆ¶ç´„,...
FOREIGN KEY ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å (ã‚«ãƒ©ãƒ å, ...) 
   REFERENCES å‚ç…§å…ˆãƒ†ãƒ¼ãƒ–ãƒ«å (ã‚«ãƒ©ãƒ å, ...),
INDEX ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å(ã‚«ãƒ©ãƒ å) COMMENT 'ã“ã‚ã‚“ã¨');

-- ä¾‹
> CREATE TABLE IF NOT EXISTS members (
id MEDIUMINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
name varchar(255) NOT NULL UNIQUE,
email varchar(255) NOT NULL UNIQUE,
password varchar(100) NOT NULL,
picture varchar(255) NOT NULL DEFAULT '/default_icon.jpg',
created DATETIME NOT NULL,
modified TIMESTAMP NOT NULL,
-- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹/ã‚­ãƒ¼ã‚’è²¼ã‚‹ã‚¯ã‚¨ãƒªã¯é•·ããªã‚ŠãŒã¡ãªã®ã§ç­†è€…ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«åˆ†ã‘ã¦ã¾ã™
INDEX idx_members_id_01(id) COMMENT 'for search member quickly'
);

> CREATE TABLE IF NOT EXISTS posts (
post_id MEDIUMINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
user_id MEDIUMINT NOT NULL,
content VARCHAR(900),
posted_at TIMESTAMP NOT NULL,
FOREIGN KEY fk_posts_userid_01(user_id)
	REFERENCES members (id)
);
```

## ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä¸€è¦§ã‚’è¡¨ç¤º

```
> SHOW TABLES;
```

## ãƒ†ãƒ¼ãƒ–ãƒ«ã®æ§‹é€ ã‚’ç¢ºèª

[EXPLAIN æ§‹æ–‡](https://dev.mysql.com/doc/refman/5.6/ja/explain.html)

```
-- DESCRIBEã¯EXPLAINã®ã‚·ãƒãƒ‹ãƒ (åŒç¾©èª)ã§ã™
> DESCRIBE ãƒ†ãƒ¼ãƒ–ãƒ«å;
-- ä¾‹
> DESCRIBE members;
```

â€»å‚è€ƒ
ã€[æ•´æ•°å‹(çœŸæ•°å€¤) - INTEGERã€INTã€SMALLINTã€TINYINTã€MEDIUMINTã€BIGINT / MySQLå…¬å¼](https://dev.mysql.com/doc/refman/5.6/ja/integer-types.html)ã€

## ãƒ†ãƒ¼ãƒ–ãƒ«ã®CREATEæ–‡ã‚’è¡¨ç¤º

[SHOW CREATE TABLE æ§‹æ–‡](https://dev.mysql.com/doc/refman/5.6/ja/show-create-table.html)
DESCRIBEæ–‡ã‚ˆã‚Šè©³ã—ã„æƒ…å ±ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚

```
> SHOW CREATE TABLE ãƒ†ãƒ¼ãƒ–ãƒ«å;
```

## ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ç ´æ£„

```
> DROP TABLE IF EXISTS ãƒ†ãƒ¼ãƒ–ãƒ«å
You're about to run a destructive command.
Do you want to proceed? (y/n): y
Your call!
```

## indexã‚’ç¢ºèª

```
> SHOW INDEX FROM ãƒ†ãƒ¼ãƒ–ãƒ«å;
-- ä¾‹
> SHOW INDEX FROM members;
+---------+------------+-------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------------------+
| Table   | Non_unique | Key_name          | Seq_in_index | Column_name | Collation | Cardinality | Sub_part | Packed | Null | Index_type | Comment | Index_comment             |
+---------+------------+-------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------------------+
| members | 0          | PRIMARY           | 1            | id          | A         | 0           | <null>   | <null> |      | BTREE      |         |                           |
| members | 0          | name              | 1            | name        | A         | 0           | <null>   | <null> |      | BTREE      |         |                           |
| members | 0          | email             | 1            | email       | A         | 0           | <null>   | <null> |      | BTREE      |         |                           |
| members | 1          | idx_members_id_01 | 1            | id          | A         | 0           | <null>   | <null> |      | BTREE      |         | for search member quickly |
+---------+------------+-------------------+--------------+-------------+-----------+-------------+----------+--------+------+------------+---------+---------------------------+
```

ä¸Šè¨˜ã®è¡¨ç¤ºã®æ„å‘³ã¯ä¸‹è¨˜ã®é€šã‚Šã€‚

|é …ç›®  |èª¬æ˜  |
|---|---|
|Table  |ãƒ†ãƒ¼ãƒ–ãƒ«ã®åå‰  |
|Non_unique  |ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒé‡è¤‡ã‚’å«ã‚€ã“ã¨ãŒã§ããªã„å ´åˆã¯ 0ã€ã§ãã‚‹å ´åˆã¯ 1ã€‚  |
|Key_name  |ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®åå‰ã€‚ã“ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒä¸»ã‚­ãƒ¼ã§ã‚ã‚‹å ´åˆã€ãã®åå‰ã¯å¸¸ã« PRIMARY  |
|Seq_in_index  |ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å†…ã®ã‚«ãƒ©ãƒ ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ç•ªå·ã§ã‚ã‚Šã€1 ã‹ã‚‰å§‹ã¾ã‚‹ã€‚  |
|Column_name  |ã‚«ãƒ©ãƒ å  |
|Collation  |ã‚«ãƒ©ãƒ ã®ã‚½ãƒ¼ãƒˆæ–¹æ³•ã€‚MySQL ã§ã¯ã€ã“ã‚Œã¯ã€ŒAã€(æ˜‡é †) ã¾ãŸã¯NULL(ã‚½ãƒ¼ãƒˆã•ã‚Œãªã„) ã®ã©ã¡ã‚‰ã‹ã®å€¤  |
|Cardinality  |ã€Œã‚ã‚‹ã‚«ãƒ©ãƒ ã«ãŠã‘ã‚‹ã€å–ã‚Šã†ã‚‹å€¤ã®ç¨®é¡ã€ã®ã“ã¨ã€‚ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ãƒ¼(æ¿ƒåº¦)ãŒé«˜ã„ã»ã©ã€MySQL ãŒçµåˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã«ã“ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹å¯èƒ½æ€§ã¯é«˜ããªã‚‹ã€‚  |
|Sub_part  |ã‚«ãƒ©ãƒ ãŒéƒ¨åˆ†çš„ã«ã—ã‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®šã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®šã•ã‚ŒãŸæ–‡å­—ã®æ•°ã€‚ã‚«ãƒ©ãƒ å…¨ä½“ãŒã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ NULL  |
|Packed  |ã‚­ãƒ¼ãŒãƒ‘ãƒƒã‚¯ã•ã‚Œã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚ãƒ‘ãƒƒã‚¯ã•ã‚Œãªã„å ´åˆã¯ NULLã€‚  |
|NULL  |ã“ã®ã‚«ãƒ©ãƒ ã« NULL å€¤ã‚’å«ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹å ´åˆã¯ YES ãŒã€ã§ããªã„å ´åˆã¯ ''  |
|Index_type  |ä½¿ç”¨ã•ã‚Œã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ–¹æ³• (BTREEã€FULLTEXTã€HASHã€RTREE)  |
|Comment  |ã“ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«é–¢ã™ã‚‹æƒ…å ±(ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒç„¡åŠ¹ã«ãªã£ã¦ã„ã‚‹å ´åˆã® disabled ãªã©)  |
|Index_comment  |ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒä½œæˆã•ã‚ŒãŸã¨ãã« COMMENT å±æ€§ã§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã«å¯¾ã—ã¦æä¾›ã•ã‚ŒãŸä»»æ„ã®ã‚³ãƒ¡ãƒ³ãƒˆ  |

â€»å‚è€ƒ
ã€[SHOW INDEX æ§‹æ–‡ / MySQLå…¬å¼](https://dev.mysql.com/doc/refman/5.6/ja/show-index.html)ã€
ã€[MySQL(InnoDB)ã§ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ã®ä½ã„ã‚«ãƒ©ãƒ ã«INDEXã‚’å¼µã‚‹ / Qiitaè¨˜äº‹](https://qiita.com/hmatsu47/items/2d44c173a9114fd06853)ã€

ã¡ãªã¿ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ–¹æ³•ã®B-treeã«ã¤ã„ã¦ã¯ã€[B-treeã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å…¥é–€ / Qiitaè¨˜äº‹](https://qiita.com/kiyodori/items/f66a545a47dc59dd8839)ã€ã‚„ã€[ã“ã‚Œã§ã‚ã‹ã‚‹B-treeã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  / B-tree algorithm](https://speakerdeck.com/nekonenene/b-tree-algorithm)ã€ãªã©ãŒã‚ªã‚¹ã‚¹ãƒ¡ã§ã™ã€‚

ã¨ã‚Šã‚ãˆãšä»Šã¯ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä¸Šæ‰‹ã«è²¼ã‚‹ã¨ç´¢å¼•çš„ãªã‚„ã¤ãŒå‡ºæ¥ã¦æ¤œç´¢ãŒæ—©ããªã‚‹ã®ã‹ãªã€œã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸(è©³ã—ã„äººã«æ®´ã‚‰ã‚Œãã†ãªèª¬æ˜æ±—)ã§é€²ã‚“ã§ã‚‚ãŠï½‹ã§ã™ã€‚

## ä½œæˆæ¸ˆã®ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚«ãƒ©ãƒ ã«indexè¿½åŠ 

```
> ALTER TABLE ãƒ†ãƒ¼ãƒ–ãƒ«å ADD INDEX ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å(ã‚«ãƒ©ãƒ å);
```

## indexã‚’å‰Šé™¤

[DROP INDEX æ§‹æ–‡ / å…¬å¼](https://dev.mysql.com/doc/refman/5.6/ja/drop-index.html)
[ALTER TABLE æ§‹æ–‡ / å…¬å¼](https://dev.mysql.com/doc/refman/5.6/ja/alter-table.html)

```
> DROP INDEX ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å ON ãƒ†ãƒ¼ãƒ–ãƒ«å
-- ã‚‚ã—ãã¯
> ALTER TABLE ãƒ†ãƒ¼ãƒ–ãƒ«å DROP INDEX ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å;
```

## indexã®ã‚³ãƒ¡ãƒ³ãƒˆå¤‰æ›´

```
> ALTER TABLE ãƒ†ãƒ¼ãƒ–ãƒ«å
 DROP INDEX ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å,
 ADD FULLTEXT INDEX ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å (ã‚«ãƒ©ãƒ å) COMMENT "ã‚³ãƒ¡ãƒ³ãƒˆ";
-- ä¾‹
> ALTER TABLE members 
 DROP INDEX idx_members_id_01, 
 ADD INDEX idx_members_01 (id) COMMENT "HOGE";
```

## ãƒ‡ãƒ¼ã‚¿æŒ¿å…¥(INSERT)

[INSERT æ§‹æ–‡](https://dev.mysql.com/doc/refman/5.6/ja/insert.html)

```
> INSERT INTO ãƒ†ãƒ¼ãƒ–ãƒ«å (ã‚«ãƒ©ãƒ å) VALUES (å€¤);
-- ä¾‹â‘ (å…¨ã‚«ãƒ©ãƒ ã®æƒ…å ±å…¥ã‚Œã‚‹æ™‚ã¯ã‚«ãƒ©ãƒ åæŒ‡å®šã„ã‚Šã¾ã›ã‚“ã€ã—ã¦ã‚‚ã„ã„ã‘ã©)
> INSERT INTO members 
VALUES
(1, 'ç¹”ç”°ä¿¡é•·', 'nobu_oda@example.com', 'HOGE', '/oda_icon.jpg', '2020-12-02 1:14:22', '2020-12-02 1:14:22');
-- ä¾‹â‘¡(ç‰¹å®šã®ã‚«ãƒ©ãƒ ã«æƒ…å ±å…¥ã‚Œã‚‹æ™‚)
> INSERT INTO members
(name, email, password, picture, created)
VALUES
('è±Šè‡£ç§€å‰', 'hide_toyo@example.com', 'FUGA', '/toyo_icon.jpg', '2020-12-01 10:00:00');
```

## ãƒ‡ãƒ¼ã‚¿è¡Œå‰Šé™¤(DELETE)

[DELETE æ§‹æ–‡](https://dev.mysql.com/doc/refman/5.6/ja/delete.html)

```
> DELETE FROM ãƒ†ãƒ¼ãƒ–ãƒ«å;
-- ä¾‹â‘ (å…¨éƒ¨ã®è¡Œæ¶ˆãˆã¾ã™)
DELETE FROM members;
-- ä¾‹â‘¡(é™å®šã—ãŸã„ãªã‚‰WHEREå¥ä½¿ã†ã¨ã‹)
DELETE FROM members WHERE id=3;
```

## ãƒ‡ãƒ¼ã‚¿é¸æŠ(SELECT)

[SELECTæ§‹æ–‡](https://dev.mysql.com/doc/refman/5.6/ja/select.html)

```
> SELECT ã‚«ãƒ©ãƒ å, FROM ãƒ†ãƒ¼ãƒ–ãƒ«;
-- ä¾‹â‘ ç‰¹å®šã®ã‚«ãƒ©ãƒ 
> SELECT id, name FROM members;
-- ä¾‹â‘¡å…¨ã¦ã®ã‚«ãƒ©ãƒ 
> SELECT * FROM members;
-- ä¾‹â‘¢ç‰¹å®šã®è¡Œã®ã¿
> SELECT * FROM members WHERE id=3;
```

# ç­†è€…ãŒè©°ã¾ã£ãŸã¨ã“ã‚

- `AUTO_INCREMENT`åˆ¶ç´„ã®ã‚ã‚‹ã‚«ãƒ©ãƒ ã«ã¯å¿…ãškeyã‚’è¨­å®šã—ãªã„ã¨ã„ã‘ãªã„

indexã‚’è²¼ã£ãŸã‚Šã€`PRIMARY KEY`ã®è¨­å®šã‚’ã—ã¦ã‚„ã‚ã†

```
CREATE TABLE members (
id INT NOT NULL AUTO_INCREMENT,
name varchar(255)
);
(1075, 'Incorrect table definition; there can be only one auto column and it must be defined as a key')
```

- DROP INDEXãŒå‡ºæ¥ãªã„

`SHOW INDEX`ã‚’ä½¿ã£ã¦ä¸‹è¨˜ã®ã‚ˆã†ãªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

PRIMARYã‚’æ¶ˆãã†ã¨ã™ã‚‹ãŒ...

![drop_target.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/403039/c0d739f5-0e62-f973-74cc-b35bf9e37e83.png)

```
> ALTER TABLE members DROP INDEX PRIMARY;
(1064, "You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'PRIMARY ON members' at line 1")
```

ä¸»ã‚­ãƒ¼ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åãŒå¸¸ã« PRIMARY ã§ã‚ã‚‹ä¸€æ–¹ã§PRIMARY ãŒäºˆç´„èªã§ã‚ã‚‹ãŸã‚ã€å¼•ç”¨ç¬¦ã§å›²ã¾ã‚ŒãŸè­˜åˆ¥å­ã¨ã—ã¦æŒ‡å®šã—ãªã„ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†ã®ãŒåŸå› ã§ã™ã€‚ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒãƒƒã‚¯ã‚¯ã‚ªãƒ¼ãƒˆ``ã§å›²ã£ã¦ã‚„ã‚‹ã¨ã†ã¾ãè¡Œãã¾ã™ã€‚

```
> ALTER TABLE members DROP INDEX `PRIMARY`;
```

ã¡ãªã¿ã«`AUTO_INCREMENT`ãŒè¨­å®šã•ã‚Œã¦ã„ã¦ä¸€ã¤ã—ã‹KEYãŒãªã„ã‚«ãƒ©ãƒ ã®KEYã‚’DROPã•ã›ã‚‹ã“ã¨ã¯å‡ºæ¥ã¾ã›ã‚“ã€‚

## ã¡ã‚‡ã£ã¨ã—ãŸçŸ¥è­˜ã¾ã¨ã‚(éšæ™‚è¿½è¨˜äºˆå®š)

- varcharå‹ã®ã‚µã‚¤ã‚º

```
[NATIONAL] VARCHAR(M) [CHARACTER SET charset_name] [COLLATE collation_name]
```

varcharã¯å¯å¤‰é•·ã®æ–‡å­—åˆ—ã§ã™ã€‚(å›ºå®šé•·ã¯charå‹ã¨ã„ã†ã®ãŒã‚ã‚Šã¾ã™ã€‚)ä¸Šè¨˜ã®Mã¨ã„ã†ã®ã¯æ–‡å­—åˆ—ã®æœ€å¤§åˆ—é•·ã‚’è¡¨ã—ã¦ãŠã‚Šã€0ã‹ã‚‰65,532ã¾ã§ã®ç¯„å›²ã‚’è¨­å®š...ã§ãã‚‹ã®ã§ã™ãŒæœ‰åŠ¹ãªæœ€å¤§é•·ã¯ã€æœ€å¤§è¡Œã‚µã‚¤ã‚ºã¨ä½¿ç”¨ã™ã‚‹æ–‡å­—ã‚»ãƒƒãƒˆã«ä¾å­˜ã—ã¾ã™ã€‚

utf-8æ–‡å­—ã¯1æ–‡å­—ã‚ãŸã‚Šæœ€å¤§3ãƒã‚¤ãƒˆã‚’å¿…è¦ã¨ã™ã‚‹ãŸã‚ã€utf-8æ–‡å­—ã‚»ãƒƒãƒˆã‚’ä½¿ç”¨ã™ã‚‹VARCHARåˆ—ã¯æœ€å¤§21,844æ–‡å­—ã¨å®£è¨€ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

â€»å‚è€ƒ

[UTF-8ï¼ˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒ¼ã‚¨ãƒ•ã‚¨ã‚¤ãƒˆï¼‰ã¨ã¯ï¼Ÿæ–‡å­—ã‚³ãƒ¼ãƒ‰ã®ä»•çµ„ã¿ã‚’çŸ¥ã‚Œã°æ–‡å­—åŒ–ã‘ã§ã‚‚æ…Œã¦ãªã„](https://ferret-plus.com/7006)

 [VARCHAR / MariaDBå…¬å¼](https://mariadb.com/kb/en/varchar/)

## å‚è€ƒã‚µã‚¤ãƒˆ

- [mycliå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.mycli.net/)
- [MyCLI â€“ A MySQL/MariaDB Client with Auto-completion and Syntax-highlighting](https://www.tecmint.com/mycli-mysql-client-with-auto-completion-syntax-highlighting/#:~:text=MyCLI%20is%20an%20easy%2Dto,SSL%20to%20the%20MySQL%20server.))
- [mycli ãŒä¾¿åˆ©éãã‚‹ - kakakakakku blog](https://kakakakakku.hatenablog.com/entry/2015/09/08/004426)

- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‘½åè¦ç´„ / Qiitaè¨˜äº‹](https://qiita.com/genzouw/items/35022fa96c120e67c637)

- [MySQLã®ãƒ‡ãƒ¼ã‚¿å‹ / DBOnline](https://www.dbonline.jp/mysql/type/)

- [ç¬¬ 11 ç«  ãƒ‡ãƒ¼ã‚¿å‹ / MySQLå…¬å¼](https://dev.mysql.com/doc/refman/5.6/ja/data-types.html)
